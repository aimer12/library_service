2015-09-13 18:02:15,013 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 18:02:15,013 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 18:02:15,013 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 18:02:15,014 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 18:06:20,933 -master:master.py-L47-WARNING: Caught signal: 2
2015-09-13 18:06:20,934 -master:master.py-L51-INFO: stopping http server
2015-09-13 18:06:20,935 -master:master.py-L54-INFO: Master will shutdown in 3 seconds ...
2015-09-13 18:06:23,937 -master:master.py-L67-INFO: Shutdown
2015-09-13 18:06:23,937 -master:master.py-L122-INFO: Exit Master
2015-09-13 18:31:14,593 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 18:31:14,594 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 18:31:14,594 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 18:31:14,594 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 18:32:29,781 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:29,783 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:29,783 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:29,795 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 15.00ms
2015-09-13 18:32:31,801 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:31,802 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:31,802 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:31,803 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 2.03ms
2015-09-13 18:32:33,808 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:33,809 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:33,809 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:33,810 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.21ms
2015-09-13 18:32:35,812 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:35,813 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:35,813 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:35,814 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.96ms
2015-09-13 18:32:37,821 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:37,822 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:37,824 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:37,827 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 5.76ms
2015-09-13 18:32:39,829 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:39,830 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:39,830 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:39,832 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 2.06ms
2015-09-13 18:32:41,835 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:41,836 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:41,836 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:41,837 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 2.09ms
2015-09-13 18:32:43,843 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:43,843 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:43,843 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:43,844 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.13ms
2015-09-13 18:32:45,850 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:45,851 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:45,852 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:45,853 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 2.87ms
2015-09-13 18:32:47,857 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:32:47,857 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:32:47,858 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:32:47,859 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.82ms
2015-09-13 18:35:53,687 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 18:35:53,890 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 18:35:53,891 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 18:35:53,891 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 18:35:53,891 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 18:36:00,102 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:00,102 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:00,102 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:00,104 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 2.82ms
2015-09-13 18:36:02,109 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:02,109 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:02,110 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:02,111 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 2.20ms
2015-09-13 18:36:04,116 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:04,116 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:04,116 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:04,117 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.18ms
2015-09-13 18:36:06,121 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:06,122 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:06,122 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:06,124 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 2.89ms
2015-09-13 18:36:08,129 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:08,130 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:08,130 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:08,131 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.87ms
2015-09-13 18:36:10,135 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:10,136 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:10,136 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:10,138 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 3.64ms
2015-09-13 18:36:12,141 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:12,141 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:12,142 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:12,142 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.17ms
2015-09-13 18:36:14,145 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:14,145 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:14,145 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:14,146 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.11ms
2015-09-13 18:36:16,149 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:16,149 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:16,150 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:16,150 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.15ms
2015-09-13 18:36:18,156 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:36:18,157 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:36:18,157 -web:web.py-L1496-ERROR: Uncaught exception GET /reader?reader_id=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/reader?reader_id=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 268, in get
    resp = self.Resp.make_response(code=RespCode.SUCCESS, content=resp)
  File "/home/aimer/library_service/util/httpresponse.py", line 78, in make_response
    response['success_type'] = success_type
UnboundLocalError: local variable 'success_type' referenced before assignment
2015-09-13 18:36:18,158 -web:web.py-L1908-ERROR: 500 GET /reader?reader_id=4 (127.0.0.1) 1.71ms
2015-09-13 18:38:46,896 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/util/httpresponse.py modified; restarting server
2015-09-13 18:39:17,106 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 18:39:17,107 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 18:39:17,107 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 18:39:17,107 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 18:39:25,472 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:39:25,473 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:39:25,474 -web:web.py-L1908-INFO: 200 GET /reader?reader_id=4 (127.0.0.1) 3.06ms
2015-09-13 18:39:25,479 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:25,506 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:25,506 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:25,509 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 30.03ms
2015-09-13 18:39:27,513 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:27,513 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:27,513 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:27,514 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.05ms
2015-09-13 18:39:29,517 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:29,517 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:29,517 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:29,518 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.10ms
2015-09-13 18:39:31,521 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:31,523 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:31,524 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:31,537 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 16.18ms
2015-09-13 18:39:33,541 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:33,542 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:33,542 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:33,543 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.57ms
2015-09-13 18:39:35,548 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:35,548 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:35,549 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:35,551 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 3.61ms
2015-09-13 18:39:37,553 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:37,553 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:37,553 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:37,554 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.17ms
2015-09-13 18:39:39,559 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:39,560 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:39,560 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:39,560 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.35ms
2015-09-13 18:39:41,565 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:41,565 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:41,566 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:41,567 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 2.35ms
2015-09-13 18:39:43,572 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:39:43,572 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:39:43,572 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = borrow['borrowdate']
TypeError: list indices must be integers, not str
2015-09-13 18:39:43,573 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.06ms
2015-09-13 18:41:48,613 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 18:41:48,844 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 18:41:48,847 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 18:41:48,847 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 18:41:48,847 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 18:41:57,802 -lib:lib.py-L258-INFO: reader detail! readerid:'4'
2015-09-13 18:41:57,804 -lib:lib.py-L261-INFO: query result: {'reader_id': 4, 'sex': None, 'age': 13, 'type': 0, 'email': u'aimer@123.com', 'reader_name': u'aimer'}
2015-09-13 18:41:57,810 -web:web.py-L1908-INFO: 200 GET /reader?reader_id=4 (127.0.0.1) 8.73ms
2015-09-13 18:41:57,811 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:41:57,811 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:41:57,812 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:41:57,816 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 5.31ms
2015-09-13 18:41:59,822 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:41:59,822 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:41:59,822 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:41:59,823 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.77ms
2015-09-13 18:42:01,829 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:42:01,830 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:42:01,830 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:42:01,832 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 3.61ms
2015-09-13 18:42:03,837 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:42:03,837 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:42:03,838 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:42:03,839 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 3.41ms
2015-09-13 18:42:05,843 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:42:05,843 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:42:05,843 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:42:05,844 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.11ms
2015-09-13 18:42:07,849 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:42:07,849 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:42:07,850 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:42:07,850 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.19ms
2015-09-13 18:42:09,853 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:42:09,853 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:42:09,854 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:42:09,854 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.24ms
2015-09-13 18:42:11,860 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:42:11,860 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:42:11,861 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:42:11,862 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 2.36ms
2015-09-13 18:42:13,868 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:42:13,868 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:42:13,868 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:42:13,869 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.70ms
2015-09-13 18:42:15,874 -lib:lib.py-L332-INFO: borrow detail! readerid:'4'
2015-09-13 18:42:15,874 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:42:15,875 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:42:15,875 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=4 (127.0.0.1) 1.25ms
2015-09-13 18:43:30,904 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 18:43:31,144 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 18:43:31,145 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 18:43:31,145 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 18:43:31,145 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 18:43:37,427 -lib:lib.py-L258-INFO: reader detail! readerid:'3'
2015-09-13 18:43:37,428 -lib:lib.py-L261-INFO: query result: {'reader_id': 3, 'sex': None, 'age': 23, 'type': 0, 'email': u'dewldn@123.com', 'reader_name': u'dw'}
2015-09-13 18:43:37,428 -web:web.py-L1908-INFO: 200 GET /reader?reader_id=3 (127.0.0.1) 2.06ms
2015-09-13 18:43:37,430 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:37,431 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:37,432 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:37,436 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 5.38ms
2015-09-13 18:43:39,439 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:39,439 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:39,439 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:39,440 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 1.13ms
2015-09-13 18:43:41,445 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:41,445 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:41,446 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:41,447 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 2.07ms
2015-09-13 18:43:43,453 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:43,454 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:43,454 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:43,457 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 4.60ms
2015-09-13 18:43:45,459 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:45,459 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:45,460 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:45,460 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 1.27ms
2015-09-13 18:43:47,465 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:47,466 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:47,472 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:47,472 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 7.68ms
2015-09-13 18:43:49,477 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:49,478 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:49,478 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:49,478 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 1.18ms
2015-09-13 18:43:51,481 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:51,481 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:51,482 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:51,484 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 1.15ms
2015-09-13 18:43:53,490 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:53,490 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:53,490 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:53,490 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 1.13ms
2015-09-13 18:43:55,496 -lib:lib.py-L332-INFO: borrow detail! readerid:'3'
2015-09-13 18:43:55,496 -lib:lib.py-L334-INFO: query result: None
2015-09-13 18:43:55,496 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?readerid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?readerid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: list indices must be integers, not str
2015-09-13 18:43:55,497 -web:web.py-L1908-ERROR: 500 GET /borrow?readerid=3 (127.0.0.1) 1.41ms
2015-09-13 18:44:06,404 -lib:lib.py-L43-INFO: in GET method! Get book by title: 'python'
2015-09-13 18:44:06,405 -lib:lib.py-L59-INFO: Query result: [{'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}, {'publisher': u'mingtian', 'book_title': u'python learn', 'addr': u'4-3-7', 'author': u'ai', 'price': 3.4, 'book_id': 3, 'description': u'something'}, {'publisher': u'qinghua', 'book_title': u'python web', 'addr': u'3-2-7', 'author': u'liyong wangwenqiang', 'price': 3.8, 'book_id': 4, 'description': u'improve your skill'}]
2015-09-13 18:44:06,405 -web:web.py-L1908-INFO: 200 GET /book?book_title=python (127.0.0.1) 1.61ms
2015-09-13 18:44:09,081 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 18:44:09,083 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 18:44:09,087 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 6.51ms
2015-09-13 18:44:09,091 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:09,093 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:09,106 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 15.60ms
2015-09-13 18:44:11,109 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:11,109 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:11,110 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.82ms
2015-09-13 18:44:13,117 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:13,117 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:13,118 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.72ms
2015-09-13 18:44:15,124 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:15,124 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:15,125 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.65ms
2015-09-13 18:44:17,130 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:17,131 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:17,132 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.63ms
2015-09-13 18:44:19,137 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:19,137 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:19,138 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.71ms
2015-09-13 18:44:21,144 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:21,145 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:21,147 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 2.59ms
2015-09-13 18:44:23,150 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:23,151 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:23,152 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.89ms
2015-09-13 18:44:25,156 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:25,157 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:25,158 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.65ms
2015-09-13 18:44:27,161 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:44:27,161 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:44:27,162 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.61ms
2015-09-13 18:45:43,417 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 18:45:43,419 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 18:45:43,420 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 2.55ms
2015-09-13 18:45:43,429 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:45:43,435 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:45:43,443 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 15.22ms
2015-09-13 18:45:45,447 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:45:45,448 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:45:45,449 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 2.33ms
2015-09-13 18:45:47,452 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:45:47,453 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:45:47,454 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.97ms
2015-09-13 18:45:49,460 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:45:49,460 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:45:49,462 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.94ms
2015-09-13 18:45:51,465 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:45:51,466 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:45:51,467 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.94ms
2015-09-13 18:45:53,473 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:45:53,473 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:45:53,474 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.69ms
2015-09-13 18:45:55,477 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:45:55,478 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:45:55,479 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.82ms
2015-09-13 18:45:57,483 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:45:57,483 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:45:57,484 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.73ms
2015-09-13 18:45:59,490 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:45:59,490 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:45:59,492 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 2.04ms
2015-09-13 18:46:01,496 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:46:01,496 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:46:01,497 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.64ms
2015-09-13 18:46:20,550 -lib:lib.py-L369-INFO: in  post method. receive data:{"readerid": "3", "bookid": "2"}
2015-09-13 18:46:21,148 -lib:lib.py-L403-INFO: borrow successed! The book: 2
2015-09-13 18:46:21,149 -web:web.py-L1908-INFO: 200 POST /borrow (127.0.0.1) 600.57ms
2015-09-13 18:47:22,365 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 18:47:22,368 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 18:47:22,371 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 7.34ms
2015-09-13 18:47:22,374 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:22,374 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:22,375 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.85ms
2015-09-13 18:47:24,380 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:24,381 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:24,382 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.76ms
2015-09-13 18:47:26,384 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:26,385 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:26,386 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.57ms
2015-09-13 18:47:28,392 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:28,392 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:28,393 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.86ms
2015-09-13 18:47:30,397 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:30,397 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:30,398 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.71ms
2015-09-13 18:47:32,404 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:32,404 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:32,405 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.62ms
2015-09-13 18:47:34,409 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:34,409 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:34,410 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.58ms
2015-09-13 18:47:36,414 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:36,415 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:36,416 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.97ms
2015-09-13 18:47:38,421 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:38,422 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:38,423 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 2.12ms
2015-09-13 18:47:40,429 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:47:40,429 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:47:40,430 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.62ms
2015-09-13 18:48:36,651 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 18:48:36,888 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 18:48:36,888 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 18:48:36,889 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 18:48:36,889 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 18:48:42,354 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 18:48:42,356 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 18:48:42,364 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 14.32ms
2015-09-13 18:48:42,373 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:48:42,376 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:48:42,393 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 20.64ms
2015-09-13 18:48:44,397 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:48:44,398 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:48:44,398 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.05ms
2015-09-13 18:48:46,401 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:48:46,402 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:48:46,405 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 3.76ms
2015-09-13 18:48:48,410 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:48:48,411 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:48:48,412 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 3.56ms
2015-09-13 18:48:50,416 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:48:50,417 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:48:50,419 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 3.52ms
2015-09-13 18:48:52,423 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:48:52,424 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:48:52,425 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 2.50ms
2015-09-13 18:48:54,428 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:48:54,429 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:48:54,429 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.13ms
2015-09-13 18:48:56,432 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:48:56,434 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:48:56,435 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 2.78ms
2015-09-13 18:48:58,441 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:48:58,441 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:48:58,442 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.75ms
2015-09-13 18:49:00,446 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:49:00,446 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:49:00,447 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.76ms
2015-09-13 18:53:01,695 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '3'
2015-09-13 18:53:01,696 -lib:lib.py-L59-INFO: Query result: {'publisher': u'mingtian', 'book_title': u'python learn', 'addr': u'4-3-7', 'author': u'ai', 'price': 3.4, 'book_id': 3, 'description': u'something'}
2015-09-13 18:53:01,697 -web:web.py-L1908-INFO: 200 GET /book?book_id=3 (127.0.0.1) 2.76ms
2015-09-13 18:53:01,703 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:01,705 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:01,708 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:01,719 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 16.32ms
2015-09-13 18:53:03,725 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:03,725 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:03,725 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:03,726 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 1.18ms
2015-09-13 18:53:05,729 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:05,730 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:05,730 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:05,731 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 2.33ms
2015-09-13 18:53:07,735 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:07,735 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:07,735 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:07,736 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 1.11ms
2015-09-13 18:53:09,741 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:09,741 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:09,742 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:09,742 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 2.05ms
2015-09-13 18:53:11,749 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:11,752 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:11,752 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:11,756 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 7.66ms
2015-09-13 18:53:13,763 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:13,764 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:13,764 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:13,764 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 1.20ms
2015-09-13 18:53:15,768 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:15,769 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:15,769 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:15,769 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 1.29ms
2015-09-13 18:53:17,776 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:17,776 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:17,777 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:17,777 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 1.90ms
2015-09-13 18:53:19,780 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:53:19,781 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:19,781 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 338, in get
    bo=datetime.datetime.utcfromstamp(bo)
AttributeError: type object 'datetime.datetime' has no attribute 'utcfromstamp'
2015-09-13 18:53:19,781 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=3 (127.0.0.1) 1.22ms
2015-09-13 18:53:21,794 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '4'
2015-09-13 18:53:21,795 -lib:lib.py-L59-INFO: Query result: {'publisher': u'qinghua', 'book_title': u'python web', 'addr': u'3-2-7', 'author': u'liyong wangwenqiang', 'price': 3.8, 'book_id': 4, 'description': u'improve your skill'}
2015-09-13 18:53:21,795 -web:web.py-L1908-INFO: 200 GET /book?book_id=4 (127.0.0.1) 1.11ms
2015-09-13 18:53:21,802 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:21,802 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:21,802 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:21,803 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 1.62ms
2015-09-13 18:53:23,812 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:23,812 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:23,812 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:23,813 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 1.14ms
2015-09-13 18:53:25,817 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:25,817 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:25,818 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:25,818 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 1.81ms
2015-09-13 18:53:27,825 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:27,825 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:27,825 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:27,826 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 1.65ms
2015-09-13 18:53:29,831 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:29,831 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:29,832 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:29,833 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 2.06ms
2015-09-13 18:53:31,837 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:31,837 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:31,837 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:31,838 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 1.20ms
2015-09-13 18:53:33,844 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:33,844 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:33,844 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:33,845 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 1.19ms
2015-09-13 18:53:35,849 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:35,849 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:35,850 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:35,853 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 3.94ms
2015-09-13 18:53:37,857 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:37,857 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:37,858 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:37,858 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 1.17ms
2015-09-13 18:53:39,864 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:53:39,864 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:53:39,865 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=4 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=4', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 336, in get
    bo = tools.to_int(borrow['borrowdate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 18:53:39,865 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=4 (127.0.0.1) 2.18ms
2015-09-13 18:54:22,424 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 18:54:22,634 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 18:54:22,635 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 18:54:22,635 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 18:54:22,635 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 18:54:43,544 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '4'
2015-09-13 18:54:43,544 -lib:lib.py-L59-INFO: Query result: {'publisher': u'qinghua', 'book_title': u'python web', 'addr': u'3-2-7', 'author': u'liyong wangwenqiang', 'price': 3.8, 'book_id': 4, 'description': u'improve your skill'}
2015-09-13 18:54:43,545 -web:web.py-L1908-INFO: 200 GET /book?book_id=4 (127.0.0.1) 1.77ms
2015-09-13 18:54:43,547 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 18:54:43,548 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:54:43,551 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 18:54:43,558 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=4 (127.0.0.1) 4.14ms
2015-09-13 18:54:49,325 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '3'
2015-09-13 18:54:49,325 -lib:lib.py-L59-INFO: Query result: {'publisher': u'mingtian', 'book_title': u'python learn', 'addr': u'4-3-7', 'author': u'ai', 'price': 3.4, 'book_id': 3, 'description': u'something'}
2015-09-13 18:54:49,325 -web:web.py-L1908-INFO: 200 GET /book?book_id=3 (127.0.0.1) 1.01ms
2015-09-13 18:54:49,327 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 18:54:49,328 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:54:49,328 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 18:54:49,328 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=3 (127.0.0.1) 1.13ms
2015-09-13 18:55:02,873 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 18:55:02,874 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 18:55:02,878 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 5.99ms
2015-09-13 18:55:02,880 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:02,882 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:02,892 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 12.61ms
2015-09-13 18:55:04,895 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:04,895 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:04,897 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.82ms
2015-09-13 18:55:06,901 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:06,902 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:06,903 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 2.48ms
2015-09-13 18:55:08,913 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:08,914 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:08,920 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 8.09ms
2015-09-13 18:55:10,925 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:10,926 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:10,927 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.97ms
2015-09-13 18:55:12,933 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:12,935 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:12,937 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 4.09ms
2015-09-13 18:55:14,944 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:14,946 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:14,950 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 7.28ms
2015-09-13 18:55:16,953 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:16,953 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:16,954 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.61ms
2015-09-13 18:55:18,960 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:18,960 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:18,961 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.16ms
2015-09-13 18:55:20,967 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:55:20,967 -web:web.py-L1496-ERROR: Uncaught exception GET /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='GET', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 327, in get
    borrow=self.borrowdao.get_by_bookid(bid)
  File "/home/aimer/library_service/dao/borrowdao.py", line 30, in get_by_bookid
    return self.db.get(sql)
  File "/home/aimer/library_service/util/torndb.py", line 152, in get
    raise Exception("Multiple rows returned for Database.get() query")
Exception: Multiple rows returned for Database.get() query
2015-09-13 18:55:20,968 -web:web.py-L1908-ERROR: 500 GET /borrow?bookid=2 (127.0.0.1) 1.73ms
2015-09-13 18:56:36,522 -lib:lib.py-L258-INFO: reader detail! readerid:'3'
2015-09-13 18:56:36,522 -lib:lib.py-L261-INFO: query result: {'reader_id': 3, 'sex': None, 'age': 23, 'type': 0, 'email': u'dewldn@123.com', 'reader_name': u'dw'}
2015-09-13 18:56:36,523 -web:web.py-L1908-INFO: 200 GET /reader?reader_id=3 (127.0.0.1) 2.22ms
2015-09-13 18:56:36,528 -lib:lib.py-L330-INFO: borrow detail! readerid:'3'
2015-09-13 18:56:36,529 -lib:lib.py-L332-INFO: query result: None
2015-09-13 18:56:36,529 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 18:56:36,530 -web:web.py-L1908-INFO: 200 GET /borrow?readerid=3 (127.0.0.1) 2.06ms
2015-09-13 18:56:42,344 -lib:lib.py-L43-INFO: in GET method! Get book by title: 'python'
2015-09-13 18:56:42,345 -lib:lib.py-L59-INFO: Query result: [{'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}, {'publisher': u'mingtian', 'book_title': u'python learn', 'addr': u'4-3-7', 'author': u'ai', 'price': 3.4, 'book_id': 3, 'description': u'something'}, {'publisher': u'qinghua', 'book_title': u'python web', 'addr': u'3-2-7', 'author': u'liyong wangwenqiang', 'price': 3.8, 'book_id': 4, 'description': u'improve your skill'}]
2015-09-13 18:56:42,347 -web:web.py-L1908-INFO: 200 GET /book?book_title=python (127.0.0.1) 3.18ms
2015-09-13 18:56:45,273 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 18:56:45,275 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 18:56:45,276 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 3.22ms
2015-09-13 18:56:45,292 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:56:45,293 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:56:45,296 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 18:56:45,297 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 6.21ms
2015-09-13 18:57:22,265 -lib:lib.py-L367-INFO: in  post method. receive data:{"readerid": "3", "bookid": "2"}
2015-09-13 18:57:22,277 -lib:lib.py-L401-INFO: borrow successed! The book: 2
2015-09-13 18:57:22,277 -web:web.py-L1908-INFO: 200 POST /borrow (127.0.0.1) 16.22ms
2015-09-13 18:57:41,329 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 18:57:41,330 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 18:57:41,337 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 8.44ms
2015-09-13 18:57:41,346 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:57:41,346 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:57:41,347 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 18:57:41,347 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 1.67ms
2015-09-13 18:57:43,985 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 18:57:43,986 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 18:57:43,987 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 2.00ms
2015-09-13 18:57:43,993 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:57:43,994 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:57:43,994 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 18:57:43,995 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 2.01ms
2015-09-13 18:57:48,448 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 18:57:48,450 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 18:57:48,451 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 3.10ms
2015-09-13 18:57:48,457 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 18:57:48,465 -lib:lib.py-L328-INFO: query result: None
2015-09-13 18:57:48,465 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 18:57:48,469 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 12.67ms
2015-09-13 19:00:07,640 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 19:00:07,872 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 19:00:07,872 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 19:00:07,873 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 19:00:07,873 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 19:00:17,407 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:00:17,409 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:00:17,410 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 3.33ms
2015-09-13 19:00:17,416 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:00:17,418 -lib:lib.py-L328-INFO: query result: {'readerid': 3, 'bookid': 2, 'returndate': 1444899442L, 'renew': 0, 'borrowdate': 1442195842L, 'brw_id': 5}
2015-09-13 19:00:17,423 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 7.40ms
2015-09-13 19:01:00,877 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 19:01:01,088 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 19:01:01,088 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 19:01:01,089 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 19:01:01,089 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 19:26:38,809 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '3'
2015-09-13 19:26:38,810 -lib:lib.py-L59-INFO: Query result: {'publisher': u'mingtian', 'book_title': u'python learn', 'addr': u'4-3-7', 'author': u'ai', 'price': 3.4, 'book_id': 3, 'description': u'something'}
2015-09-13 19:26:38,818 -web:web.py-L1908-INFO: 200 GET /book?book_id=3 (127.0.0.1) 10.92ms
2015-09-13 19:26:38,825 -lib:lib.py-L326-INFO: borrow detail! bookid:'3'
2015-09-13 19:26:38,828 -lib:lib.py-L328-INFO: query result: None
2015-09-13 19:26:38,829 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 19:26:38,835 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=3 (127.0.0.1) 11.05ms
2015-09-13 19:26:43,556 -lib:lib.py-L128-INFO:  in delete method! delete book by book_id:'3'.
2015-09-13 19:26:43,561 -lib:lib.py-L139-INFO: delete book object successed!
2015-09-13 19:26:43,561 -web:web.py-L1908-INFO: 200 DELETE /book?book_id=3 (127.0.0.1) 5.22ms
2015-09-13 19:26:57,323 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:26:57,327 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 6.12ms
2015-09-13 19:26:59,332 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:26:59,333 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 0.89ms
2015-09-13 19:27:01,336 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:27:01,338 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 1.55ms
2015-09-13 19:27:03,342 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:27:03,343 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 1.10ms
2015-09-13 19:27:05,349 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:27:05,349 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 0.85ms
2015-09-13 19:27:07,353 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:27:07,353 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 0.84ms
2015-09-13 19:27:09,357 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:27:09,358 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 0.96ms
2015-09-13 19:27:11,363 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:27:11,364 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 0.88ms
2015-09-13 19:27:13,369 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:27:13,369 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 0.95ms
2015-09-13 19:27:15,373 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=3 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=3', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:27:15,373 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=3 (127.0.0.1) 0.91ms
2015-09-13 19:28:01,209 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:28:01,213 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:28:01,216 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 8.25ms
2015-09-13 19:28:01,220 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:28:01,225 -lib:lib.py-L328-INFO: query result: {'readerid': 3, 'bookid': 2, 'returndate': 1444899442L, 'renew': 0, 'borrowdate': 1442195842L, 'brw_id': 5}
2015-09-13 19:28:01,232 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 13.11ms
2015-09-13 19:28:05,453 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '3'
2015-09-13 19:28:05,454 -lib:lib.py-L59-INFO: Query result: None
2015-09-13 19:28:05,460 -lib:lib.py-L62-ERROR: There is no record!
2015-09-13 19:28:05,461 -web:web.py-L1908-INFO: 200 GET /book?book_id=3 (127.0.0.1) 8.65ms
2015-09-13 19:28:10,500 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:28:10,501 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:28:10,503 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 3.11ms
2015-09-13 19:28:10,516 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:28:10,520 -lib:lib.py-L328-INFO: query result: {'readerid': 3, 'bookid': 2, 'returndate': 1444899442L, 'renew': 0, 'borrowdate': 1442195842L, 'brw_id': 5}
2015-09-13 19:28:10,520 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 4.01ms
2015-09-13 19:28:12,827 -lib:lib.py-L427-INFO: delete borrow book 2
2015-09-13 19:28:12,869 -lib:lib.py-L430-INFO: delete successed!
2015-09-13 19:28:12,869 -web:web.py-L1908-INFO: 200 DELETE /borrow?bookid=2 (127.0.0.1) 44.65ms
2015-09-13 19:31:01,601 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:01,603 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 2.75ms
2015-09-13 19:31:03,609 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:03,610 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 0.95ms
2015-09-13 19:31:05,628 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:05,629 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 0.98ms
2015-09-13 19:31:07,634 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:07,634 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 0.87ms
2015-09-13 19:31:09,637 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:09,638 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 0.83ms
2015-09-13 19:31:11,641 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:11,643 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 2.24ms
2015-09-13 19:31:13,648 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:13,648 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 0.82ms
2015-09-13 19:31:15,655 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:15,656 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 0.93ms
2015-09-13 19:31:17,663 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:17,663 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 1.35ms
2015-09-13 19:31:19,668 -web:web.py-L1496-ERROR: Uncaught exception DELETE /borrow?bookid=2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='DELETE', uri='/borrow?bookid=2', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 419, in delete
    re=datetime.datetime.utcfromtimestamp(borrow['returndate'])
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:31:19,670 -web:web.py-L1908-ERROR: 500 DELETE /borrow?bookid=2 (127.0.0.1) 1.57ms
2015-09-13 19:33:43,595 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 19:33:43,856 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 19:33:43,856 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 19:33:43,856 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 19:33:43,856 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 19:33:48,743 -lib:lib.py-L427-INFO: delete borrow book 2
2015-09-13 19:33:48,754 -lib:lib.py-L430-INFO: delete successed!
2015-09-13 19:33:48,755 -web:web.py-L1908-INFO: 200 DELETE /borrow?bookid=2 (127.0.0.1) 13.40ms
2015-09-13 19:33:56,126 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:33:56,127 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:33:56,129 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 3.89ms
2015-09-13 19:33:56,145 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:33:56,145 -lib:lib.py-L328-INFO: query result: None
2015-09-13 19:33:56,145 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 19:33:56,146 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 1.78ms
2015-09-13 19:34:01,288 -lib:lib.py-L367-INFO: in  post method. receive data:{"readerid": "4", "bookid": "2"}
2015-09-13 19:34:01,376 -lib:lib.py-L401-INFO: borrow successed! The book: 2
2015-09-13 19:34:01,376 -web:web.py-L1908-INFO: 200 POST /borrow (127.0.0.1) 88.56ms
2015-09-13 19:34:06,157 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:34:06,157 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:34:06,158 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 1.65ms
2015-09-13 19:34:06,161 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:34:06,161 -lib:lib.py-L328-INFO: query result: {'readerid': 4, 'bookid': 2, 'returndate': 1444901641L, 'renew': 0, 'borrowdate': 1442198041L, 'brw_id': 6}
2015-09-13 19:34:06,162 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 1.41ms
2015-09-13 19:34:09,758 -lib:lib.py-L427-INFO: delete borrow book 2
2015-09-13 19:34:09,838 -lib:lib.py-L430-INFO: delete successed!
2015-09-13 19:34:09,839 -web:web.py-L1908-INFO: 200 DELETE /borrow?bookid=2 (127.0.0.1) 81.44ms
2015-09-13 19:34:16,212 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:16,216 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 7.36ms
2015-09-13 19:34:18,221 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:18,222 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 1.48ms
2015-09-13 19:34:20,226 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:20,227 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 0.87ms
2015-09-13 19:34:22,231 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:22,231 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 0.88ms
2015-09-13 19:34:24,237 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:24,238 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 0.91ms
2015-09-13 19:34:26,243 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:26,244 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 1.31ms
2015-09-13 19:34:28,250 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:28,251 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 1.49ms
2015-09-13 19:34:30,255 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:30,256 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 1.42ms
2015-09-13 19:34:32,261 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:32,263 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 2.51ms
2015-09-13 19:34:34,270 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:34,271 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 1.79ms
2015-09-13 19:34:59,945 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:34:59,948 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 6.35ms
2015-09-13 19:35:01,953 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:35:01,954 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 0.98ms
2015-09-13 19:35:03,958 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:35:03,959 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 1.29ms
2015-09-13 19:35:05,964 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:35:05,965 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 1.14ms
2015-09-13 19:35:07,971 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:35:07,972 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 2.46ms
2015-09-13 19:35:09,980 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:35:09,981 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 0.88ms
2015-09-13 19:35:11,987 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:35:11,988 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 1.63ms
2015-09-13 19:35:13,993 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:35:13,993 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 0.87ms
2015-09-13 19:35:15,997 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:35:15,997 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 0.88ms
2015-09-13 19:35:18,001 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 458, in put
    restamp=re['returndate']
TypeError: 'NoneType' object has no attribute '__getitem__'
2015-09-13 19:35:18,002 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 1.41ms
2015-09-13 19:37:02,331 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:37:02,332 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:37:02,336 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 6.41ms
2015-09-13 19:37:02,345 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:37:02,346 -lib:lib.py-L328-INFO: query result: None
2015-09-13 19:37:02,346 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 19:37:02,346 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 1.15ms
2015-09-13 19:37:06,065 -lib:lib.py-L367-INFO: in  post method. receive data:{"readerid": "4", "bookid": "2"}
2015-09-13 19:37:06,129 -lib:lib.py-L401-INFO: borrow successed! The book: 2
2015-09-13 19:37:06,130 -web:web.py-L1908-INFO: 200 POST /borrow (127.0.0.1) 65.14ms
2015-09-13 19:37:11,086 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:37:11,088 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:37:11,089 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 3.08ms
2015-09-13 19:37:11,104 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:37:11,105 -lib:lib.py-L328-INFO: query result: {'readerid': 4, 'bookid': 2, 'returndate': 1444901826L, 'renew': 0, 'borrowdate': 1442198226L, 'brw_id': 7}
2015-09-13 19:37:11,105 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 1.41ms
2015-09-13 19:37:13,263 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:13,264 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:13,266 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 96.33ms
2015-09-13 19:37:15,272 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:15,272 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:15,275 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 5.35ms
2015-09-13 19:37:17,279 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:17,279 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:17,280 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 3.84ms
2015-09-13 19:37:19,335 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:19,336 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:19,336 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 51.96ms
2015-09-13 19:37:21,389 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:21,390 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:21,391 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 51.06ms
2015-09-13 19:37:23,432 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:23,433 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:23,433 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 37.78ms
2015-09-13 19:37:25,661 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:25,661 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:25,663 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 227.06ms
2015-09-13 19:37:27,668 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:27,668 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:27,668 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 4.17ms
2015-09-13 19:37:29,678 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:29,678 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:29,680 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 7.49ms
2015-09-13 19:37:31,693 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:37:31,693 -web:web.py-L1496-ERROR: Uncaught exception PUT /borrow (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:9999', method='PUT', uri='/borrow', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Connection': 'close', 'Content-Length': '15', 'Host': '127.0.0.1:9999', 'Accept-Encoding': 'gzip'})
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/tornado-4.2-py2.7-linux-i686.egg/tornado/web.py", line 1413, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/aimer/library_service/service/lib.py", line 465, in put
    resp = self.Resp.make_response(code = RespCode.SUCCESS,pare="renew")
TypeError: make_response() got an unexpected keyword argument 'pare'
2015-09-13 19:37:31,694 -web:web.py-L1908-ERROR: 500 PUT /borrow (127.0.0.1) 8.90ms
2015-09-13 19:38:01,361 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 19:38:01,647 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 19:38:01,647 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 19:38:01,648 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 19:38:01,648 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 19:38:08,787 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:38:08,788 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 25.14ms
2015-09-13 19:38:13,554 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:38:13,554 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:38:13,555 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 1.96ms
2015-09-13 19:38:13,560 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:38:13,561 -lib:lib.py-L328-INFO: query result: {'readerid': 4, 'bookid': 2, 'returndate': 1474655826L, 'renew': 0, 'borrowdate': 1442198226L, 'brw_id': 7}
2015-09-13 19:38:13,562 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 1.69ms
2015-09-13 19:40:34,628 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:40:34,629 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 72.22ms
2015-09-13 19:42:35,410 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:42:35,411 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:42:35,412 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 3.20ms
2015-09-13 19:42:35,424 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:42:35,425 -lib:lib.py-L328-INFO: query result: {'readerid': 4, 'bookid': 2, 'returndate': 1477359426L, 'renew': 0, 'borrowdate': 1442198226L, 'brw_id': 7}
2015-09-13 19:42:35,425 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 1.37ms
2015-09-13 19:42:38,846 -lib:lib.py-L427-INFO: delete borrow book 2
2015-09-13 19:42:38,848 -lib:lib.py-L430-INFO: delete successed!
2015-09-13 19:42:38,850 -web:web.py-L1908-INFO: 200 DELETE /borrow?bookid=2 (127.0.0.1) 5.08ms
2015-09-13 19:42:44,878 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:42:44,880 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:42:44,882 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 4.90ms
2015-09-13 19:42:44,889 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:42:44,894 -lib:lib.py-L328-INFO: query result: None
2015-09-13 19:42:44,894 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 19:42:44,897 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 9.10ms
2015-09-13 19:42:48,205 -lib:lib.py-L367-INFO: in  post method. receive data:{"readerid": "4", "bookid": "2"}
2015-09-13 19:42:48,209 -lib:lib.py-L401-INFO: borrow successed! The book: 2
2015-09-13 19:42:48,209 -web:web.py-L1908-INFO: 200 POST /borrow (127.0.0.1) 4.49ms
2015-09-13 19:42:53,489 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:42:53,489 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:42:53,490 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 2.09ms
2015-09-13 19:42:53,499 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:42:53,503 -lib:lib.py-L328-INFO: query result: {'readerid': 4, 'bookid': 2, 'returndate': 1444902168L, 'renew': 0, 'borrowdate': 1442198568L, 'brw_id': 8}
2015-09-13 19:42:53,505 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 6.33ms
2015-09-13 19:42:56,945 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:42:56,945 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 43.75ms
2015-09-13 19:45:50,493 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:45:50,494 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:45:50,495 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 2.17ms
2015-09-13 19:45:50,503 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:45:50,504 -lib:lib.py-L328-INFO: query result: {'readerid': 4, 'bookid': 2, 'returndate': 1447609368L, 'renew': 0, 'borrowdate': 1442198568L, 'brw_id': 8}
2015-09-13 19:45:50,508 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 5.93ms
2015-09-13 19:45:58,249 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:45:58,250 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 5.13ms
2015-09-13 19:48:01,659 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 19:48:01,882 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 19:48:01,882 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 19:48:01,882 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 19:48:01,882 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 19:48:59,389 -autoreload:autoreload.py-L204-INFO: /home/aimer/library_service/service/lib.py modified; restarting server
2015-09-13 19:48:59,707 -master:master.py-L44-INFO: Current log level is: DEBUG
2015-09-13 19:48:59,709 -master:master.py-L109-INFO: Test info:Master start!
2015-09-13 19:48:59,709 -master:master.py-L110-ERROR: Test error:Master start!
2015-09-13 19:48:59,709 -master:master.py-L111-DEBUG: Test debug:Master start!
2015-09-13 19:49:15,487 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:49:15,491 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:49:15,492 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 6.90ms
2015-09-13 19:49:15,496 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:49:15,496 -lib:lib.py-L328-INFO: query result: {'readerid': 4, 'bookid': 2, 'returndate': 1450316568L, 'renew': 0, 'borrowdate': 1442198568L, 'brw_id': 8}
2015-09-13 19:49:15,503 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 7.44ms
2015-09-13 19:49:18,588 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:49:18,589 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 104.24ms
2015-09-13 19:49:54,360 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:49:54,360 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 4.93ms
2015-09-13 19:49:55,440 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:49:55,441 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 47.38ms
2015-09-13 19:49:56,348 -lib:lib.py-L464-INFO: renew success! bookid:'2'
2015-09-13 19:49:56,351 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 11.47ms
2015-09-13 19:50:31,392 -lib:lib.py-L43-INFO: in GET method! Get book by title: 'learn'
2015-09-13 19:50:31,393 -lib:lib.py-L59-INFO: Query result: [{'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}]
2015-09-13 19:50:31,394 -web:web.py-L1908-INFO: 200 GET /book?book_title=learn (127.0.0.1) 2.25ms
2015-09-13 19:50:35,830 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:50:35,831 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:50:35,831 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 1.42ms
2015-09-13 19:50:35,836 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:50:35,836 -lib:lib.py-L328-INFO: query result: {'readerid': 4, 'bookid': 2, 'returndate': 1461138168L, 'renew': 0, 'borrowdate': 1442198568L, 'brw_id': 8}
2015-09-13 19:50:35,837 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 1.22ms
2015-09-13 19:50:39,101 -lib:lib.py-L427-INFO: delete borrow book 2
2015-09-13 19:50:39,187 -lib:lib.py-L430-INFO: delete successed!
2015-09-13 19:50:39,188 -web:web.py-L1908-INFO: 200 DELETE /borrow?bookid=2 (127.0.0.1) 87.05ms
2015-09-13 19:50:47,093 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '2'
2015-09-13 19:50:47,093 -lib:lib.py-L59-INFO: Query result: {'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}
2015-09-13 19:50:47,094 -web:web.py-L1908-INFO: 200 GET /book?book_id=2 (127.0.0.1) 1.82ms
2015-09-13 19:50:47,098 -lib:lib.py-L326-INFO: borrow detail! bookid:'2'
2015-09-13 19:50:47,099 -lib:lib.py-L328-INFO: query result: None
2015-09-13 19:50:47,099 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 19:50:47,100 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=2 (127.0.0.1) 2.17ms
2015-09-13 19:50:58,731 -lib:lib.py-L43-INFO: in GET method! Get book by title: 'tornado'
2015-09-13 19:50:58,731 -lib:lib.py-L59-INFO: Query result: [{'publisher': u"O'Reilly Media", 'book_title': u'Introduction to Tornado', 'addr': u'4-2-3', 'author': u'Micbael Dory', 'price': 23.88, 'book_id': 5, 'description': u'Tornado is a scalable, non-blocking web server.'}]
2015-09-13 19:50:58,732 -web:web.py-L1908-INFO: 200 GET /book?book_title=tornado (127.0.0.1) 1.54ms
2015-09-13 19:51:01,025 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '5'
2015-09-13 19:51:01,027 -lib:lib.py-L59-INFO: Query result: {'publisher': u"O'Reilly Media", 'book_title': u'Introduction to Tornado', 'addr': u'4-2-3', 'author': u'Micbael Dory', 'price': 23.88, 'book_id': 5, 'description': u'Tornado is a scalable, non-blocking web server.'}
2015-09-13 19:51:01,028 -web:web.py-L1908-INFO: 200 GET /book?book_id=5 (127.0.0.1) 3.70ms
2015-09-13 19:51:01,035 -lib:lib.py-L326-INFO: borrow detail! bookid:'5'
2015-09-13 19:51:01,040 -lib:lib.py-L328-INFO: query result: None
2015-09-13 19:51:01,041 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 19:51:01,043 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=5 (127.0.0.1) 8.93ms
2015-09-13 19:51:12,433 -lib:lib.py-L43-INFO: in GET method! Get book by title: 'python'
2015-09-13 19:51:12,434 -lib:lib.py-L59-INFO: Query result: [{'publisher': u'min', 'book_title': u'learn python the hard way', 'addr': u'4-2-4', 'author': u'wang', 'price': 3.7, 'book_id': 2, 'description': u'ok'}, {'publisher': u'qinghua', 'book_title': u'python web', 'addr': u'3-2-7', 'author': u'liyong wangwenqiang', 'price': 3.8, 'book_id': 4, 'description': u'improve your skill'}]
2015-09-13 19:51:12,434 -web:web.py-L1908-INFO: 200 GET /book?book_title=python (127.0.0.1) 1.63ms
2015-09-13 19:51:15,369 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '4'
2015-09-13 19:51:15,370 -lib:lib.py-L59-INFO: Query result: {'publisher': u'qinghua', 'book_title': u'python web', 'addr': u'3-2-7', 'author': u'liyong wangwenqiang', 'price': 3.8, 'book_id': 4, 'description': u'improve your skill'}
2015-09-13 19:51:15,370 -web:web.py-L1908-INFO: 200 GET /book?book_id=4 (127.0.0.1) 1.45ms
2015-09-13 19:51:15,374 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 19:51:15,375 -lib:lib.py-L328-INFO: query result: None
2015-09-13 19:51:15,375 -lib:lib.py-L346-ERROR: there is no record!
2015-09-13 19:51:15,375 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=4 (127.0.0.1) 1.35ms
2015-09-13 19:51:21,608 -lib:lib.py-L367-INFO: in  post method. receive data:{"readerid": "3", "bookid": "4"}
2015-09-13 19:51:21,618 -lib:lib.py-L401-INFO: borrow successed! The book: 4
2015-09-13 19:51:21,618 -web:web.py-L1908-INFO: 200 POST /borrow (127.0.0.1) 12.21ms
2015-09-13 19:51:25,854 -lib:lib.py-L464-INFO: renew success! bookid:'4'
2015-09-13 19:51:25,854 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 38.54ms
2015-09-13 19:55:22,629 -lib:lib.py-L39-INFO: in GET method! Get book by bookid: '4'
2015-09-13 19:55:22,630 -lib:lib.py-L59-INFO: Query result: {'publisher': u'qinghua', 'book_title': u'python web', 'addr': u'3-2-7', 'author': u'liyong wangwenqiang', 'price': 3.8, 'book_id': 4, 'description': u'improve your skill'}
2015-09-13 19:55:22,631 -web:web.py-L1908-INFO: 200 GET /book?book_id=4 (127.0.0.1) 2.54ms
2015-09-13 19:55:22,640 -lib:lib.py-L326-INFO: borrow detail! bookid:'4'
2015-09-13 19:55:22,644 -lib:lib.py-L328-INFO: query result: {'readerid': 3, 'bookid': 4, 'returndate': 1447609881L, 'renew': 0, 'borrowdate': 1442199081L, 'brw_id': 9}
2015-09-13 19:55:22,645 -web:web.py-L1908-INFO: 200 GET /borrow?bookid=4 (127.0.0.1) 5.35ms
2015-09-13 19:55:25,154 -lib:lib.py-L464-INFO: renew success! bookid:'4'
2015-09-13 19:55:25,155 -web:web.py-L1908-INFO: 200 PUT /borrow (127.0.0.1) 360.04ms
2015-09-13 19:55:39,331 -master:master.py-L47-WARNING: Caught signal: 2
2015-09-13 19:55:39,332 -master:master.py-L51-INFO: stopping http server
2015-09-13 19:55:39,333 -master:master.py-L54-INFO: Master will shutdown in 3 seconds ...
2015-09-13 19:55:42,336 -master:master.py-L67-INFO: Shutdown
2015-09-13 19:55:42,337 -master:master.py-L122-INFO: Exit Master
